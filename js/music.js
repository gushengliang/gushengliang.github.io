var lastIndex,musicJsons,lastVideoIndex;function playMusic(s,o){mePlayer({theme:"default",music:s,target:".music",autoplay:!1},(function(){var s;(s=lastIndex+1)>=musicJsons.length&&(s=0),playMusic(musicJsons[s]),$("#musiclist #"+lastIndex).css("color","#888888"),$("#musiclist #"+s).css("color","#3273dc"),lastIndex=s,mePlayerMethod.play()}));var l=s.desc;null==l?$("#desc").html(""):$("#desc").html("<blockquote>"+l+"</blockquote>")}function playVideo(s,o){new DPlayer({container:document.getElementById("dplayer"),autoplay:!0,theme:"#42b983",loop:!1,lang:"zh-cn",preload:"none",volume:Number("0.7"),video:{url:s.url,pic:"",thumbnails:""}}),$("#video-list #"+lastIndex).css("color","#888888"),$("#video-list #"+o).css("color","#3273dc")}$.getJSON("../json_data/music.json",(function(s){musicJsons=s;for(var o=0;o<musicJsons.length;o++){musicJsons[o].loop=!1;var l=$("<li><span>"+musicJsons[o].title+"</span>&nbsp;&nbsp;&nbsp;&nbsp;时长："+musicJsons[o].time+"&nbsp;&nbsp;&nbsp;&nbsp; 歌手："+musicJsons[o].author+"</li>");l.attr("id",o),l.css("list-style-type","none"),l.css("height","40px"),l.css("color","#888888"),l.click((function(s){var o=Number(this.id);playMusic(musicJsons[o]),$("#musiclist #"+lastIndex).css("color","#888888"),$(this).css("color","#3273dc"),lastIndex=o,mePlayerMethod.play()})),$("#musiclist").append(l)}var e=Math.floor(Math.random()*musicJsons.length);$("#musiclist #"+e).css("color","#3273dc"),lastIndex=e,playMusic(musicJsons[e])})),$.getJSON("../json_data/video.json",(function(s){$("#video-list").append("");for(var o=0;o<s.length;o++){var l=$("<blockquote>"+(o+1)+"."+s[o].desc+"</blockquote>");l.attr("id",o),l.click((function(o){var l=Number(this.id);playVideo(s[l],l),$("#video-list #"+lastVideoIndex).css("color","#888888"),lastVideoIndex=l})),$("#video-list").append(l)}}));