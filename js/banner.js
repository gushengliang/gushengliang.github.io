var banner,Carousel=function(){};function loadBanner(){$("#banner").length>0&&(null==banner||null==banner?$.getJSON("./json_data/banner.json",(function(a){var t=a;(banner=new Carousel).init({container:"#banner",datas:t,autoplaySpeed:8e3,autoplay:!0}),banner.load()})):banner.load())}Carousel.prototype={container:"",datas:null,autoplaySpeed:null,autoplay:!1,hasPlay:!1,init:function(a){this.container=a.container,this.datas=a.datas,this.autoplaySpeed=a.autoplaySpeed,this.autoplay=a.autoplay},load:function(){options={container:this.container,datas:this.datas,autoplaySpeed:this.autoplaySpeed,autoplay:this.autoplay},$(this.container).html(""),this.createCarousel(options),this.arrowHover(),this.tabImg(),this.setZindex(),(options.autoplay||1==this.autoplay)&&this.autoPlay(this.autoplaySpeed)},createCarousel:function(a){this.createDOM(this.container,a)},createDOM:function(a,t){$(a).html("<div class='carousel-box clearfix'><div class='transverse-box pull-left'></div><div class='vertical-box pull-right'><ul></ul></div><span class='left-arrow'>‹</span><span class='right-arrow'>›</span></div>");for(var e=t.datas.length,i=0;i<e;i++)$(".transverse-box").append("<div class='img-item'><a href='"+t.datas[i].url+"' target='_blank'><img src='"+t.datas[i].img+"' url='"+t.datas[i].url+"' alt='"+t.datas[i].alt+"'></a></div>");$(".vertical-box ul").append("<li><a href='"+t.datas[1].url+"' target='_blank'><img src='"+t.datas[1].img+"' alt='"+t.datas[1].alt+"'></a></li>"),$(".vertical-box ul").append("<li><a href='"+t.datas[2].url+"' target='_blank'><img src='"+t.datas[2].img+"' alt='"+t.datas[2].alt+"'></a></li>"),$(".transverse-box").find(".img-item").eq(0).siblings().fadeOut(800),$(".transverse-box").find(".img-item").eq(0).fadeIn(800)},arrowHover:function(){$(".carousel-box").hover((function(){$(".left-arrow,.right-arrow").css("display","flex")}),(function(){$(".left-arrow,.right-arrow").css("display","none")}))},tabImg:function(){var a=this;$(".left-arrow").on("click",(function(){a.changeZindex_add()})),$(".right-arrow").on("click",(function(){a.changeZindex_sub()}))},setZindex:function(){for(var a=$(".transverse-box").find(".img-item").length,t=1e4;t<a;t++)$(".img-item").eq(t).css({zIndex:t}),$(".img-item").eq(t).attr("Zindex",t)},changeZindex_add:function(){var a=$(".transverse-box").find(".img-item").eq(0).find("img"),t=a.attr("src"),e=a.attr("alt"),i=a.attr("url");$(".transverse-box").find(".img-item").eq(0).remove(),$(".transverse-box").append("<div class='img-item'><a href='"+i+"' target='_blank'><img src='"+t+"' alt='"+e+"' url='"+i+"'></a><div>");var r=$(".transverse-box").find(".img-item").eq(1).find("img"),n=r.attr("src"),s=r.attr("url"),l=$(".transverse-box").find(".img-item").eq(2).find("img"),o=l.attr("src"),d=l.attr("url");$(".vertical-box ul").find("li").eq(0).find("img").attr("src",n),$(".vertical-box ul").find("li").eq(0).find("a").attr("href",s),$(".vertical-box ul").find("li").eq(1).find("img").attr("src",o),$(".vertical-box ul").find("li").eq(1).find("a").attr("href",d),$(".transverse-box").find(".img-item").eq(0).siblings().fadeOut(800),$(".transverse-box").find(".img-item").eq(0).fadeIn(800)},changeZindex_sub:function(){var a=$(".transverse-box").find(".img-item").length,t=$(".transverse-box").find(".img-item").eq(a-1).find("img"),e=t.attr("src"),i=t.attr("alt"),r=t.attr("url");$(".transverse-box").find(".img-item").eq(a-1).remove(),$(".transverse-box").prepend("<div class='img-item'><a href='"+r+"' target='_blank'><img src='"+e+"' alt='"+i+"' url='"+r+"'></a><div>");var n=$(".transverse-box").find(".img-item").eq(1).find("img"),s=n.attr("src"),l=n.attr("url"),o=$(".transverse-box").find(".img-item").eq(2).find("img"),d=o.attr("src"),u=o.attr("url");$(".vertical-box ul").find("li").eq(0).find("img").attr("src",s),$(".vertical-box ul").find("li").eq(0).find("a").attr("href",l),$(".vertical-box ul").find("li").eq(1).find("img").attr("src",d),$(".vertical-box ul").find("li").eq(1).find("a").attr("href",u),$(".transverse-box").find(".img-item").eq(0).siblings().fadeOut(800),$(".transverse-box").find(".img-item").eq(0).fadeIn(800)},autoPlay:function(a){var t=this;this.changeZindex_sub(),this.hasPlay||setTimeout((function(){t.autoPlay(a),this.hasPlay=!0}),a)}},$(document).ready(loadBanner());