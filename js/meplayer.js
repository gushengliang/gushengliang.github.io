!function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){(function(t){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,i=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(1),l=u(r(2)),s=u(r(3)),o=u(r(4)),c=u(r(5));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var d="object"==("undefined"==typeof window?"undefined":i(window))&&window.window===window?window:"object"==(void 0===t?"undefined":i(t))&&t.global===t?t:void 0;d.mePlayer=function(e,t){if(e.music&&e.music.src){var r=e.music,i=c.$(e.target)||document.querySelector(".meplayer"),u=e.theme||n.THEME_DEFAULT,p=!!r.lrc,m=r.cover||"https://unsplash.it/78/?random",y=r.loop||!1,v=e.autoplay,f=u===n.THEME_DEFAULT?"meplayer-container":"meplayer-container-mini",h='<div class="'+(f+" "+(p?"meplayer-haslrc":"")+" meplayer-isloading")+'">\n                             <audio src='+r.src+' preload="auto"></audio>\n                             <div class="meplayer-info">\n                             <div class="meplayer-info-cover"><img src='+m+' alt=""></div>\n                             <div class="meplayer-meta">\n                             <div class="meplayer-meta-title">'+r.title+'</div>\n                             <div class="meplayer-meta-author">'+r.author+'</div>\n                             <div class="meplayer-meta-time-tick"><span class="meplayer-meta-time-tick-text"></span></div>\n                             </div>\n                             </div>\n                             <canvas class="meplayer-spectrum"></canvas>\n                             <div class="meplayer-lyric"><div class="meplayer-lyric-area"></div></div>\n                             <div class="meplayer-control"><div class="meplayer-control-play"><i class="icon-play"></i><i class="icon-pause"></i></div></div>\n                             <div class="meplayer-volume-bg"><div class="meplayer-volume"><i class="icon-volume"></i><div class="meplayer-volume-progress"></div></div></div>\n                             <div class="meplayer-duration"><i class="icon-clock"></i><span class="meplayer-duration-text">loading</span></div>\n                             <div class="meplayer-loadingsign"><i class="icon-spin animate-spin"></i>loading</div>\n                             <div class="meplayer-timeline-bg"><div class="meplayer-timeline"><div class="meplayer-timeline-passed"></div></div></div>\n                             </div>';i.innerHTML=h;var g,E=i.querySelector("."+f),T=c.init(E).select(["audio",".meplayer-control-play",".meplayer-meta-time-tick-text",".meplayer-duration",".meplayer-timeline",".meplayer-timeline-passed",".meplayer-volume",".meplayer-volume-progress",".meplayer-lyric-area",".meplayer-spectrum"]),x=a(T,10),L=x[0],S=x[1],w=x[2],C=x[3],_=x[4],b=x[5],M=x[6],A=x[7],q=x[8],H=x[9];p?l.parse(r.lrc).renderTo(q):o.init(H),L.addEventListener("ended",N),L.addEventListener("canplaythrough",j),L.addEventListener("durationchange",F),L.addEventListener("timeupdate",I),S.addEventListener("click",D),_.addEventListener("click",P),v&&D(),d.mePlayerMethod={play:function(){L.paused&&(s.addClass(E,"meplayer-isplaying"),L.play())},pause:function(){L.paused||(s.removeClass(E,"meplayer-isplaying"),L.pause())},toggleTheme:function(){var e=.03,t=0;function r(){t++,E.style.opacity-=e,E.style.opacity<=0&&(e*=-1,E.style.opacity=0,s.toggleClass(E,"meplayer-container-mini"),s.toggleClass(E,"meplayer-container")),E.style.opacity<1&&t<200?requestAnimationFrame(r):setTimeout((function(){s.removeClass(E,"meplayer-changing-theme")}),500)}return s.addClass(E,"meplayer-changing-theme"),u=u===n.THEME_DEFAULT?n.THEME_MINI:n.THEME_DEFAULT,r(),u}}}else console.error("必须指定音乐地址哦~");function N(){y?L.play():(s.removeClass(E,"meplayer-isplaying"),t())}function j(){g=this.duration,setTimeout((function(){s.removeClass(E,"meplayer-isloading"),C.querySelector(".meplayer-duration-text").innerText=s.parseSec(g.toFixed(0))}),1e3)}function F(){g=this.duration}function I(){var e=L.currentTime,t=L.currentTime.toFixed(3),r=e/g*100;if(b.style.width=r.toFixed(2)+"%",w.innerText=s.parseSec(e),p&&u===n.THEME_DEFAULT){var a=l.currentIndex(t),i=q.querySelectorAll("p"),o=i[a-1],c=i[a],d=i[a+1];c.className.includes("meplayer-lyric-current")||(s.removeClass(q.querySelector(".meplayer-lyric-current"),"meplayer-lyric-current"),q.querySelector(".meplayer-lyric-pre")&&s.removeClass(q.querySelector(".meplayer-lyric-pre"),"meplayer-lyric-pre"),q.querySelector(".meplayer-lyric-next")&&s.removeClass(q.querySelector(".meplayer-lyric-next"),"meplayer-lyric-next"),s.addClass(c,"meplayer-lyric-current"),o&&s.addClass(o,"meplayer-lyric-pre"),d&&s.addClass(d,"meplayer-lyric-next"),q.style.webkitTransform="translateY(-"+20*a+"px)",q.style.transform="translateY(-"+20*a+"px)")}}function D(){var e,t,r;L.paused?(L.play(),u!==n.THEME_DEFAULT||p||o.draw(),E.addEventListener("mousewheel",(t=null,r=.05,e=function(e){t&&clearTimeout(t),E.className.includes("meplayer-adjusting-volume")||s.addClass(E,"meplayer-adjusting-volume"),e.wheelDeltaY<0&&L.volume>r&&(L.volume-=r),e.wheelDeltaY>0&&L.volume<.95&&(L.volume+=r),u===n.THEME_DEFAULT?A.style.width=100*L.volume+"%":M.querySelector("i").style.opacity=L.volume,e.preventDefault(),t=setTimeout((function(){s.removeClass(E,"meplayer-adjusting-volume")}),1e3)}))):(L.pause(),o.stop(),E.removeEventListener("mousewheel",e)),s.toggleClass(E,"meplayer-isplaying")}function P(){var e=(event.pageX-s.getAbsLeft(this))/this.offsetWidth;b.style.width=100*e+"%",L.currentTime=(e*g).toFixed(0)}},void 0!==e&&void 0!==e.exports&&(e.exports=d.mePlayer)}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.THEME_DEFAULT="default",t.THEME_MINI="mini",t.LYRIC_CURRENT_CLASS="meplayer-lyric-current",t.LYRIC_NEXT_CLASS="meplayer-lyric-next"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currentIndex=t.renderTo=t.parse=void 0;var a,i=r(1);t.parse=function(e){for(var t=e.split("\n"),r=[],i=t.length,n=/\[(\d{2}):(\d{2})\.(\d{2,3})]/g,l=/\[(\d{2}):(\d{2})\.(\d{2,3})]/,s=0;s<i;s++){var o=t[s].match(n),c=t[s].replace(n,"").replace(/^\s+|\s+$/g,"");if(c&&null!=o)for(var u=o.length,d=0;d<u;d++){var p=l.exec(o[d]),m=60*p[1]+parseInt(p[2])+parseInt(p[3])/(2===(p[3]+"").length?100:1e3);r.push({time:m,text:c})}}return r.sort((function(e,t){return e.time-t.time})),a=r,this},t.renderTo=function(e){if(a){for(var t="",r=0;r<a.length;r++)t+="<p>"+a[r].text+"</p>";return e.innerHTML=t,e.querySelector("p").className=i.LYRIC_CURRENT_CLASS,e.querySelector("p + p").className=i.LYRIC_NEXT_CLASS,this}console.error("未指定歌词文本！")},t.currentIndex=function(e){if(e<a[0].time)return 0;for(var t=0,r=a.length;t<r&&!(e>=a[t].time&&(!a[t+1]||e<=a[t+1].time));t++);return t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleClass=function(e,t){if(e.classList)e.classList.toggle(t);else{var r=e.className.split(" "),a=r.indexOf(t);a>=0?r.splice(a,1):r.push(t),e.className=r.join(" ")}},t.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},t.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},t.getAbsLeft=function(e){for(var t=e.offsetLeft;e.offsetParent;)t+=(e=e.offsetParent).offsetLeft;return t},t.parseSec=function(e){var t=e/60|0,r=e%60|0;return(t<10?"0"+t:t)+":"+(r<10?"0"+r:r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=[],n=!1,l=Math.random;function s(){return l()>.8?8*l()+11:6*l()+2}var o=function(e){var t=1.5*e>28?28:1.5*e,r=l()>.5?1:-1,a=e;return function(){return(a+=r)>=t?(r*=-1,a=t):a<=1&&(r*=-1,a=1),l()>.9&&(r*=-1),a}};function c(){a.clearRect(0,-r.height/2,r.width,r.height);for(var e=0;e<i.length;e++){var t=i[e].getHeight();a.fillRect(e+i[e].xSpace,-t/2,i[e].width,t)}n||requestAnimationFrame(c)}t.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:220,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#D94240";(r=e).width=t,r.height=n,(a=r.getContext("2d")).fillStyle=l,a.translate(0,n/2);for(var c=0;c<64;c++){var u=0==c?0:5*c,d={xSpace:u,width:1,getHeight:o(s())};i.push(d)}},t.draw=function(){n=!1,c()},t.stop=function(){n=!0}},function(e,t){"use strict";var r;function a(e,t){var r;return t=t||document,"string"==typeof e?r=t.querySelector(e):e.toString().includes("HTMLDivElement")&&(r=e),r}Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){return r=a(e),this},t.select=function(e){var t;if(Array.isArray(e)){var i=[],n=!0,l=!1,s=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value;i.push(a(u,r))}}catch(e){l=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(l)throw s}}t=i}else t=a(e,r);return t},t.$=a}]);