!function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){(function(t){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(1),n=c(r(2)),l=c(r(3)),s=c(r(4)),o=c(r(5));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var u="object"==("undefined"==typeof window?"undefined":a(window))&&window.window===window?window:"object"==(void 0===t?"undefined":a(t))&&t.global===t?t:void 0;u.mePlayer=function(e,t){if(e.music&&e.music.src){var r=e.music,a=o.$(e.target)||document.querySelector(".meplayer"),c=e.theme||i.THEME_DEFAULT,d=!!r.lrc,p=r.cover||"https://unsplash.it/78/?random",m=r.loop||!1,y=e.autoplay,v=c===i.THEME_DEFAULT?"meplayer-container":"meplayer-container-mini",f='<div class="'+v+" "+(d?"meplayer-haslrc":"")+' meplayer-isloading">\n                             <audio src='+r.src+' preload="auto"></audio>\n                             <div class="meplayer-info">\n                             <div class="meplayer-info-cover"><img src='+p+' alt=""></div>\n                             <div class="meplayer-meta">\n                             <div class="meplayer-meta-title">'+r.title+'</div>\n                             <div class="meplayer-meta-author">'+r.author+'</div>\n                             <div class="meplayer-meta-time-tick"><span class="meplayer-meta-time-tick-text"></span></div>\n                             </div>\n                             </div>\n                             <canvas class="meplayer-spectrum"></canvas>\n                             <div class="meplayer-lyric"><div class="meplayer-lyric-area"></div></div>\n                             <div class="meplayer-control"><div class="meplayer-control-play"><i class="icon-play"></i><i class="icon-pause"></i></div></div>\n                             <div class="meplayer-volume-bg"><div class="meplayer-volume"><i class="icon-volume"></i><div class="meplayer-volume-progress"></div></div></div>\n                             <div class="meplayer-duration"><i class="icon-clock"></i><span class="meplayer-duration-text">loading</span></div>\n                             <div class="meplayer-loadingsign"><i class="icon-spin animate-spin"></i>loading</div>\n                             <div class="meplayer-timeline-bg"><div class="meplayer-timeline"><div class="meplayer-timeline-passed"></div></div></div>\n                             </div>';a.innerHTML=f;var h,g=a.querySelector("."+v),E=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,i=!1,n=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(o.init(g).select(["audio",".meplayer-control-play",".meplayer-meta-time-tick-text",".meplayer-duration",".meplayer-timeline",".meplayer-timeline-passed",".meplayer-volume",".meplayer-volume-progress",".meplayer-lyric-area",".meplayer-spectrum"]),10),T=E[0],x=E[1],L=E[2],S=E[3],w=E[4],C=E[5],_=E[6],b=E[7],M=E[8],A=E[9];d?n.parse(r.lrc).renderTo(M):s.init(A),T.addEventListener("ended",(function(){m?T.play():(l.removeClass(g,"meplayer-isplaying"),t())})),T.addEventListener("canplaythrough",(function(){h=this.duration,setTimeout((function(){l.removeClass(g,"meplayer-isloading"),S.querySelector(".meplayer-duration-text").innerText=l.parseSec(h.toFixed(0))}),1e3)})),T.addEventListener("durationchange",(function(){h=this.duration})),T.addEventListener("timeupdate",(function(){var e=T.currentTime,t=T.currentTime.toFixed(3),r=e/h*100;if(C.style.width=r.toFixed(2)+"%",L.innerText=l.parseSec(e),d&&c===i.THEME_DEFAULT){var a=n.currentIndex(t),s=M.querySelectorAll("p"),o=s[a-1],u=s[a],p=s[a+1];u.className.includes("meplayer-lyric-current")||(l.removeClass(M.querySelector(".meplayer-lyric-current"),"meplayer-lyric-current"),M.querySelector(".meplayer-lyric-pre")&&l.removeClass(M.querySelector(".meplayer-lyric-pre"),"meplayer-lyric-pre"),M.querySelector(".meplayer-lyric-next")&&l.removeClass(M.querySelector(".meplayer-lyric-next"),"meplayer-lyric-next"),l.addClass(u,"meplayer-lyric-current"),o&&l.addClass(o,"meplayer-lyric-pre"),p&&l.addClass(p,"meplayer-lyric-next"),M.style.webkitTransform="translateY(-"+20*a+"px)",M.style.transform="translateY(-"+20*a+"px)")}})),x.addEventListener("click",q),w.addEventListener("click",(function(){var e=(event.pageX-l.getAbsLeft(this))/this.offsetWidth;C.style.width=100*e+"%",T.currentTime=(e*h).toFixed(0)})),y&&q(),u.mePlayerMethod={play:function(){T.paused&&(l.addClass(g,"meplayer-isplaying"),T.play())},pause:function(){T.paused||(l.removeClass(g,"meplayer-isplaying"),T.pause())},toggleTheme:function(){var e=.03,t=0;return l.addClass(g,"meplayer-changing-theme"),c=c===i.THEME_DEFAULT?i.THEME_MINI:i.THEME_DEFAULT,function r(){t++,g.style.opacity-=e,g.style.opacity<=0&&(e*=-1,g.style.opacity=0,l.toggleClass(g,"meplayer-container-mini"),l.toggleClass(g,"meplayer-container")),g.style.opacity<1&&t<200?requestAnimationFrame(r):setTimeout((function(){l.removeClass(g,"meplayer-changing-theme")}),500)}(),c}}}else console.error("必须指定音乐地址哦~");function q(){var e,t,r;T.paused?(T.play(),c!==i.THEME_DEFAULT||d||s.draw(),g.addEventListener("mousewheel",(t=null,r=.05,e=function(e){t&&clearTimeout(t),g.className.includes("meplayer-adjusting-volume")||l.addClass(g,"meplayer-adjusting-volume"),e.wheelDeltaY<0&&T.volume>r&&(T.volume-=r),e.wheelDeltaY>0&&T.volume<.95&&(T.volume+=r),c===i.THEME_DEFAULT?b.style.width=100*T.volume+"%":_.querySelector("i").style.opacity=T.volume,e.preventDefault(),t=setTimeout((function(){l.removeClass(g,"meplayer-adjusting-volume")}),1e3)}))):(T.pause(),s.stop(),g.removeEventListener("mousewheel",e)),l.toggleClass(g,"meplayer-isplaying")}},void 0!==e&&void 0!==e.exports&&(e.exports=u.mePlayer)}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_DEFAULT="default",t.THEME_MINI="mini",t.LYRIC_CURRENT_CLASS="meplayer-lyric-current",t.LYRIC_NEXT_CLASS="meplayer-lyric-next"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.currentIndex=t.renderTo=t.parse=void 0;var a,i=r(1);t.parse=function(e){for(var t=e.split("\n"),r=[],i=t.length,n=/\[(\d{2}):(\d{2})\.(\d{2,3})]/g,l=/\[(\d{2}):(\d{2})\.(\d{2,3})]/,s=0;s<i;s++){var o=t[s].match(n),c=t[s].replace(n,"").replace(/^\s+|\s+$/g,"");if(c&&null!=o)for(var u=o.length,d=0;d<u;d++){var p=l.exec(o[d]),m=60*p[1]+parseInt(p[2])+parseInt(p[3])/(2===(p[3]+"").length?100:1e3);r.push({time:m,text:c})}}return r.sort((function(e,t){return e.time-t.time})),a=r,this},t.renderTo=function(e){if(a){for(var t="",r=0;r<a.length;r++)t+="<p>"+a[r].text+"</p>";return e.innerHTML=t,e.querySelector("p").className=i.LYRIC_CURRENT_CLASS,e.querySelector("p + p").className=i.LYRIC_NEXT_CLASS,this}console.error("未指定歌词文本！")},t.currentIndex=function(e){if(e<a[0].time)return 0;for(var t=0,r=a.length;t<r&&!(e>=a[t].time&&(!a[t+1]||e<=a[t+1].time));t++);return t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleClass=function(e,t){if(e.classList)e.classList.toggle(t);else{var r=e.className.split(" "),a=r.indexOf(t);a>=0?r.splice(a,1):r.push(t),e.className=r.join(" ")}},t.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},t.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},t.getAbsLeft=function(e){for(var t=e.offsetLeft;e.offsetParent;)t+=(e=e.offsetParent).offsetLeft;return t},t.parseSec=function(e){var t=e/60|0,r=e%60|0;return(t<10?"0"+t:t)+":"+(r<10?"0"+r:r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,i=[],n=!1,l=Math.random;function s(){return l()>.8?8*l()+11:6*l()+2}var o=function(e){var t=1.5*e>28?28:1.5*e,r=l()>.5?1:-1,a=e;return function(){return(a+=r)>=t?(r*=-1,a=t):a<=1&&(r*=-1,a=1),l()>.9&&(r*=-1),a}};function c(){a.clearRect(0,-r.height/2,r.width,r.height);for(var e=0;e<i.length;e++){var t=i[e].getHeight();a.fillRect(e+i[e].xSpace,-t/2,i[e].width,t)}n||requestAnimationFrame(c)}t.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:220,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#D94240";(r=e).width=t,r.height=n,(a=r.getContext("2d")).fillStyle=l,a.translate(0,n/2);for(var c=0;c<64;c++){var u=0==c?0:5*c,d={xSpace:u,width:1,getHeight:o(s())};i.push(d)}},t.draw=function(){n=!1,c()},t.stop=function(){n=!0}},function(e,t){"use strict";var r;function a(e,t){var r;return t=t||document,"string"==typeof e?r=t.querySelector(e):e.toString().includes("HTMLDivElement")&&(r=e),r}Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){return r=a(e),this},t.select=function(e){var t;if(Array.isArray(e)){var i=[],n=!0,l=!1,s=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var u=o.value;i.push(a(u,r))}}catch(e){l=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(l)throw s}}t=i}else t=a(e,r);return t},t.$=a}]);